<html>
<head>
  <title>Minotaur</title>
  
  <script type="text/javascript" src="javascripts/prototype.js"></script>
  
  
  <script type="text/javascript">
  
  function init() {
    monitorStatus();
    new PeriodicalExecuter(monitorStatus, 5);
  }
  
  function monitorStatus() {
  
    var url = "monitor.js";
        
    new Ajax.Request(url, {
      method: 'get',
      onSuccess: function(transport) {
        var responses = JSON.parse(transport.responseText);
        responses.each(function(response) {
          url_id = response.site + "_url";
          status_id = response.site + "_status";
          $(url_id).update(response.url);
          $(status_id).update(response.status);
        });
      }
    });
    
  }
  
  </script>
  
</head>

<body onload="init();">
  
  <h1>Monitor</h1>
  
  <p>The url for weracketeer is <span id="weracketeer_url"></span></p>
  <p>The status is <span id="weracketeer_status"></span></p>

  <p>The url for Google is <span id="google_url"></span></p>
  <p>The status is <span id="google_status"></span></p>
</body>
</html>